# 図書館管理システム要件定義書

## 1. はじめに

### 1.1 文書の目的
本文書は、Google Apps Script（GAS）およびGoogle スプレッドシートを基盤とした図書館管理システムの要件定義を明確化し、開発・運用・保守の指針とすることを目的とする。

### 1.2 システム名称
- **システム名**: Lite Library System v6
- **バージョン**: 6.0
- **開発環境**: Google Apps Script（GAS）【絶対条件】
- **データベース**: Google スプレッドシート【絶対条件】
- **プログラミング言語**: JavaScript（GAS V8ランタイム）

### 1.3 対象読者
- システム開発者
- 図書館管理者
- システム運用担当者
- 利用者（図書館スタッフ）

## 2. システム概要

### 2.1 背景と目的
小規模から中規模の図書館において、書籍の貸出・返却管理を効率化し、利用者へのサービス向上を図ることを目的とする。Google スプレッドシートをデータベースとして活用することで、以下の利点を実現する：

- 導入コストの削減（無料のGoogle アカウントで利用可能）
- 高い可用性（Googleのインフラストラクチャを活用）
- リアルタイムでのデータ共有
- バックアップとバージョン管理の自動化
- モバイルデバイスからのアクセス対応

### 2.2 システムの特徴
- **マルチデバイス対応**: PC、タブレット、スマートフォンそれぞれに最適化されたUI
- **バーコード対応**: QuaggaJSライブラリによるバーコードスキャン機能
- **完全日本語対応**: すべてのインターフェースが日本語で設計
- **Webアプリケーション**: インストール不要、ブラウザから直接利用可能
- **自動通知機能**: メールによる登録確認や延滞通知

### 2.3 想定利用規模
- **蔵書数**: 最大5,000冊
- **利用者数**: 最大1,000人
- **一日の利用者数**: 最大100人
- **同時アクセス数**: 最大10人
- **貸出記録**: 最大20,000件/年（1日約50件×年間稼働日数）

## 3. 機能要件

### 3.1 書籍管理機能

#### 3.1.1 書籍登録機能
- **機能ID**: BM-001
- **優先度**: 高
- **概要**: 新規書籍をシステムに登録する
- **詳細**:
  - ISBNコードによる書籍情報の自動取得
  - 手動での書籍情報入力
  - 同一書籍の複数冊管理（書籍IDの自動採番）
  - 登録時の必須項目: 書籍名、著者、出版社、ISBN
  - オプション項目: 発行年、価格、カテゴリ、所在場所

#### 3.1.2 書籍編集機能
- **機能ID**: BM-002
- **優先度**: 中
- **概要**: 登録済み書籍の情報を編集する
- **詳細**:
  - 書籍ID、ISBN、書籍名、書籍名ヨミによる検索
  - 書籍情報の更新（ヨミガナ含む）
  - 編集履歴の記録

#### 3.1.3 書籍削除機能
- **機能ID**: BM-003
- **優先度**: 低
- **概要**: 不要な書籍をシステムから削除する
- **詳細**:
  - 貸出中の書籍は削除不可
  - 削除前の確認ダイアログ表示
  - 論理削除（削除フラグ）の実装

#### 3.1.4 書籍在庫管理
- **機能ID**: BM-004
- **優先度**: 中
- **概要**: 書籍の在庫状況を管理する
- **詳細**:
  - 在庫一覧の表示
  - 貸出可能/貸出中の状態表示
  - カテゴリ別、著者別での絞り込み
  - 書籍名ヨミ、著者ヨミでの部分一致検索

### 3.2 利用者管理機能

#### 3.2.1 利用者登録機能
- **機能ID**: UM-001
- **優先度**: 高
- **概要**: 新規利用者を登録する
- **詳細**:
  - 利用者ID自動採番
  - 必須項目: 氏名、読み仮名、電話番号
  - オプション項目: メールアドレス、住所、生年月日
  - 登録確認メールの自動送信

#### 3.2.2 利用者編集機能
- **機能ID**: UM-002
- **優先度**: 中
- **概要**: 登録済み利用者の情報を編集する
- **詳細**:
  - 利用者ID、利用者名、フリガナによる検索
  - 利用者情報の更新
  - 貸出履歴の参照

#### 3.2.3 利用者削除機能
- **機能ID**: UM-003
- **優先度**: 低
- **概要**: 退会した利用者を削除する
- **詳細**:
  - 未返却書籍がある場合は削除不可
  - 削除前の確認
  - 貸出履歴は保持

#### 3.2.4 図書館カード発行
- **機能ID**: UM-004
- **優先度**: 中
- **概要**: 利用者カードを発行する
- **詳細**:
  - バーコード付きカードの印刷機能
  - カード再発行機能

### 3.3 貸出・返却機能

#### 3.3.1 書籍貸出機能
- **機能ID**: LR-001
- **優先度**: 高
- **概要**: 書籍を利用者に貸し出す
- **詳細**:
  - バーコードスキャンによる書籍ID入力
  - 手動での書籍ID入力
  - 利用者IDの入力（バーコード/手動）
  - 貸出期限の自動計算（デフォルト14日）
  - 複数冊の一括貸出

#### 3.3.2 書籍返却機能
- **機能ID**: LR-002
- **優先度**: 高
- **概要**: 貸出中の書籍を返却処理する
- **詳細**:
  - バーコードスキャンによる書籍ID入力
  - 返却日時の自動記録
  - 延滞日数の計算と表示
  - 複数冊の一括返却

#### 3.3.3 利用者別返却機能
- **機能ID**: LR-003
- **優先度**: 中
- **概要**: 特定利用者の貸出書籍を一覧表示し返却処理する
- **詳細**:
  - 利用者IDによる貸出中書籍の検索
  - 選択的返却処理
  - 延滞状況の確認

#### 3.3.4 貸出書籍検索
- **機能ID**: LR-004
- **優先度**: 中
- **概要**: 現在貸出中の書籍を検索する
- **詳細**:
  - 書籍名、書籍名ヨミ、利用者名、利用者名ヨミでの検索
  - 部分一致検索に対応
  - 貸出期間での絞り込み
  - 延滞書籍のみの表示

### 3.4 レポート・統計機能

#### 3.4.1 貸出履歴検索
- **機能ID**: RP-001
- **優先度**: 中
- **概要**: 過去の貸出記録を検索・閲覧する
- **詳細**:
  - 複数条件での検索（期間、書籍、利用者）
  - CSV形式でのエクスポート
  - 検索結果の印刷

#### 3.4.2 延滞リスト
- **機能ID**: RP-002
- **優先度**: 高
- **概要**: 返却期限を過ぎた書籍を一覧表示する
- **詳細**:
  - リアルタイムでの延滞状況表示
  - 延滞日数での並び替え
  - 延滞通知メールの送信機能

#### 3.4.3 貸出統計（簡素化）
- **機能ID**: RP-003
- **優先度**: 低
- **概要**: 貸出に関する基本統計を表示する
- **詳細**:
  - 月次貸出数のみ
  - 人気書籍トップ10
  - シンプルな集計のみ

### 3.5 システム管理機能

#### 3.5.1 図書館設定
- **機能ID**: SY-001
- **優先度**: 中
- **概要**: システムの各種設定を管理する
- **詳細**:
  - 貸出期間の設定（デフォルト値）
  - 延滞通知の設定
  - 図書館情報の設定
  - メール通知のON/OFF

#### 3.5.2 データバックアップ
- **機能ID**: SY-002
- **優先度**: 中
- **概要**: システム全体のデータをバックアップする
- **詳細**:
  - 新規スプレッドシートを生成してデータをコピー
  - バックアップファイル名: 「図書館システムバックアップ_YYYYMMDD」
  - バックアップ対象: 全シート（設定含む）
  - バックアップ管理シートにURL、日時、実行者を記録
  - 手動実行（管理者のみ）

## 4. 非機能要件

### 4.1 性能要件
- **応答時間**: 
  - 通常操作: 3秒以内
  - 検索操作: 5秒以内
  - バッチ処理: 30秒以内
- **同時アクセス**: 最大10ユーザー
- **データ容量**: 
  - 推定使用セル数: 約30万セル（十分な余裕あり）
  - 書籍: 5,000冊 × 9列 = 45,000セル
  - 利用者: 1,000人 × 11列 = 11,000セル
  - 年間貸出: 20,000件 × 7列 = 140,000セル
  - その他: 約10万セル

### 4.2 セキュリティ要件
- **アクセス制御**: Google アカウントによる認証（オプション）
- **データ保護**: HTTPSによる通信の暗号化
- **監査ログ**: Stackdriverによる操作ログの記録
- **個人情報保護**: 利用者情報の適切な管理

### 4.3 可用性要件
- **稼働率**: Google Apps Scriptの稼働率に準拠（99.9%）
- **バックアップ**: 
  - 手動バックアップ: 管理者が任意のタイミングで実行
  - 定期バックアップ: 月1回（月初）
  - バックアップ保持期間: 1年間（12世代）
  - バックアップ方式: 別スプレッドシート生成
- **災害対策**: Googleのデータセンターによる冗長化

### 4.4 運用性要件
- **バージョン管理**: CLASPによるソースコード管理
- **デプロイメント**: CLASPコマンドによる自動デプロイ
- **監視**: Google Cloud Consoleによる監視
- **メンテナンス**: 24時間365日利用可能（Googleのメンテナンス時を除く）

### 4.5 互換性要件
- **ブラウザ**: Chrome, Firefox, Safari, Edge（最新版）
- **デバイス**: PC、タブレット、スマートフォン
- **画面解像度**: 最小幅375px以上
- **JavaScript**: 有効化必須

### 4.6 ユーザビリティ要件
- **レスポンシブデザイン**: アダプティブデザイン（PC/タブレット/スマホ最適化）
- **フォントサイズ**: デバイスに応じた最適サイズ（14px〜24px）
- **操作性**: マウス・タッチ両対応
- **多言語対応**: 日本語のみ

## 5. システム構成

### 5.1 アーキテクチャ概要
```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   クライアント   │────▶│ Google Apps     │────▶│ Google          │
│  (Webブラウザ)  │◀────│    Script       │◀────│ スプレッドシート │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### 5.2 技術スタック（固定）
※ 以下の技術スタックは絶対条件とし、変更不可とする。

- **フロントエンド**:
  - HTML5（GAS HtmlService経由）
  - CSS3（インラインスタイル）
  - JavaScript (ES6)
  - QuaggaJS（バーコードスキャン）
  - Google Fonts（Noto Sans JP）

- **バックエンド**:
  - Google Apps Script (V8ランタイム) 【必須】
  - SpreadsheetApp API 【必須】
  - GmailApp API
  - HtmlService 【必須】

- **データベース**:
  - Google スプレッドシート 【必須】
  - 他のデータベースは使用不可

### 5.3 デプロイメント構成
- **開発環境**: Google Apps Script エディタ（ブラウザベース）
- **本番環境**: Google Apps Script Web App
- **アクセス設定**: 全員（匿名可）
- **デプロイ方法**: GAS エディタから直接デプロイ
- **バージョン管理**: GAS の内蔵バージョン管理機能を使用

## 6. データ設計

### 6.1 スプレッドシート構成

#### 6.1.1 書籍マスタ（シート名：書籍マスタ）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | ISBN | 文字列 | ○ | 主キー、書籍の識別子 |
| B | 書籍名 | 文字列 | ○ | |
| C | 書籍名ヨミ | 文字列 | ○ | ひらがなまたはカタカナ |
| D | 著者 | 文字列 | ○ | |
| E | 著者ヨミ | 文字列 | △ | ひらがなまたはカタカナ |
| F | 出版社 | 文字列 | ○ | |
| G | 発行年 | 数値 | △ | |
| H | 価格 | 数値 | △ | |
| I | カテゴリ | 文字列 | △ | |
| J | 登録日 | 日時 | ○ | 自動設定 |
| K | 削除フラグ | 真偽値 | ○ | FALSE/TRUE |

#### 6.1.2 書籍在庫（シート名：書籍在庫）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | 書籍ID | 文字列 | ○ | 主キー、自動採番（B0001形式） |
| B | ISBN | 文字列 | ○ | 外部キー（書籍マスタ） |
| C | 所在場所 | 文字列 | △ | 棚番号など |
| D | 状態 | 文字列 | ○ | 利用可能/貸出中/修理中/廃棄 |
| E | 登録日 | 日時 | ○ | 自動設定 |
| F | 更新日 | 日時 | ○ | 自動更新 |
| G | 備考 | 文字列 | △ | |

#### 6.1.3 利用者マスタ（シート名：利用者マスタ）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | 利用者ID | 文字列 | ○ | 主キー、自動採番（U0001形式） |
| B | 利用者名 | 文字列 | ○ | |
| C | フリガナ | 文字列 | ○ | |
| D | メールアドレス | 文字列 | △ | |
| E | 電話番号 | 文字列 | ○ | |
| F | 住所 | 文字列 | △ | |
| G | 生年月日 | 日付 | △ | |
| H | 登録日 | 日時 | ○ | 自動設定 |
| I | 更新日 | 日時 | ○ | 自動更新 |
| J | 状態 | 文字列 | ○ | 有効/無効/退会 |
| K | カード番号 | 文字列 | △ | バーコード番号 |

#### 6.1.4 貸出（シート名：貸出）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | 貸出ID | 文字列 | ○ | 主キー、自動採番（L000001形式） |
| B | 書籍ID | 文字列 | ○ | 外部キー（書籍在庫） |
| C | 利用者ID | 文字列 | ○ | 外部キー（利用者マスタ） |
| D | 貸出日時 | 日時 | ○ | |
| E | 返却予定日 | 日付 | ○ | |
| F | 返却状況 | 文字列 | ○ | 貸出中/返却済み |
| G | 延滞日数 | 数値 | ○ | 自動計算（0以上） |

#### 6.1.5 貸出履歴（シート名：貸出履歴）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | 貸出ID | 文字列 | ○ | 貸出からコピー |
| B | 書籍ID | 文字列 | ○ | |
| C | 利用者ID | 文字列 | ○ | |
| D | 貸出日時 | 日時 | ○ | |
| E | 返却予定日 | 日付 | ○ | |
| F | 返却日時 | 日時 | ○ | |
| G | 延滞日数 | 数値 | ○ | 返却時の延滞日数 |
| H | 備考 | 文字列 | △ | |

#### 6.1.6 設定（シート名：設定）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | 設定キー | 文字列 | ○ | 一意キー |
| B | 設定値 | 文字列 | ○ | |
| C | データ型 | 文字列 | ○ | 文字列/数値/真偽値/日付 |
| D | 説明 | 文字列 | ○ | |
| E | 更新日時 | 日時 | ○ | 自動更新 |

#### 6.1.7 バックアップ管理（シート名：バックアップ管理）
| 列 | 項目名 | データ型 | 必須 | 備考 |
|---|--------|----------|------|------|
| A | バックアップID | 文字列 | ○ | 自動採番（BK000001形式） |
| B | バックアップ日時 | 日時 | ○ | |
| C | バックアップURL | 文字列 | ○ | 生成されたスプレッドシートのURL |
| D | バックアップ種別 | 文字列 | ○ | 手動/定期 |
| E | 実行者 | 文字列 | ○ | |
| F | ファイルサイズ | 文字列 | △ | 概算サイズ |
| G | 備考 | 文字列 | △ | |

#### 6.1.8 システムプロパティ（スクリプトプロパティで管理）
- **書籍ID採番**: 最終番号をプロパティ「LAST_BOOK_ID」で管理
- **利用者ID採番**: 最終番号をプロパティ「LAST_USER_ID」で管理
- **貸出ID採番**: 最終番号をプロパティ「LAST_LOAN_ID」で管理
- **バックアップID採番**: 最終番号をプロパティ「LAST_BACKUP_ID」で管理

### 6.2 データ整合性とパフォーマンス最適化

#### 6.2.1 主キーと外部キー
- **主キー**: 各テーブルの一意識別子
  - 書籍マスタ: ISBN
  - 書籍在庫: 書籍ID
  - 利用者マスタ: 利用者ID
  - 貸出: 貸出ID
- **外部キー**: テーブル間の関連性
  - 書籍在庫.ISBN → 書籍マスタ.ISBN
  - 貸出.書籍ID → 書籍在庫.書籍ID
  - 貸出.利用者ID → 利用者マスタ.利用者ID

#### 6.2.2 検索最適化
- **インデックスを使わない軽量検索**
  - スプレッドシートのフィルター機能を活用
  - 必要時のみデータを取得する遅延読み込み
  - 検索結果は最大50件までに制限

#### 6.2.3 データ分離
- **現在データと履歴データの分離**
  - 貸出: アクティブな貸出のみ
  - 貸出履歴: 返却済みデータ（月次でアーカイブ）
- **マスタデータと取引データの分離**
  - マスタ: 書籍、利用者の基本情報
  - 取引: 貸出、返却の記録

#### 6.2.4 トランザクション管理
- **採番の排他制御**: 採番管理テーブルで一元管理
- **状態の一貫性**: 
  - 貸出時: 書籍在庫.状態を「貸出中」に更新
  - 返却時: 書籍在庫.状態を「利用可能」に更新、貸出履歴に移動
- **ロールバック機能**: エラー時の状態復元

#### 6.2.5 軽量化とパフォーマンス最適化
- **データ量の削減**
  - 正規化により重複データを排除
  - 履歴データは年1回のアーカイブ
  - 削除データは完全削除（論理削除ではなく）
- **API呼び出しの最小化**
  - バッチ処理で複数行を一括更新
  - getValues()で範囲を一括取得
  - キャッシュは使用しない（10名程度なら不要）
- **軽量な処理**
  - 延滞チェックは週次実行
  - 統計は月次集計のみ
  - リアルタイム処理を避ける

## 7. 画面設計

### 7.1 画面一覧
| 画面ID | 画面名 | URLパラメータ | 概要 |
|--------|--------|---------------|------|
| SC-001 | メニュー画面 | （なし） | 各機能への導線 |
| SC-002 | 書籍貸出画面 | ?page=checkout | 貸出処理 |
| SC-003 | 書籍返却画面 | ?page=return | 返却処理 |
| SC-004 | 貸出書籍検索画面 | ?page=finder | 貸出中書籍の検索 |
| SC-005 | 利用者別返却画面 | ?page=user_returns | 利用者単位の返却 |
| SC-006 | 書籍登録画面 | ?page=register | 新規書籍登録 |
| SC-007 | 利用者登録画面 | ?page=user_register | 新規利用者登録 |
| SC-008 | カード発行画面 | ?page=card_issue | 図書館カード発行 |
| SC-009 | 書籍編集画面 | ?page=book_edit | 書籍情報編集 |
| SC-010 | 利用者編集画面 | ?page=user_edit | 利用者情報編集 |
| SC-011 | 在庫管理画面 | ?page=inventory | 書籍在庫一覧 |
| SC-012 | 貸出履歴画面 | ?page=history | 貸出履歴検索 |
| SC-013 | 延滞リスト画面 | ?page=overdue | 延滞書籍一覧 |
| SC-014 | 統計画面 | ?page=statistics | 各種統計表示 |
| SC-015 | 設定画面 | ?page=settings | システム設定 |

### 7.2 画面遷移図
```
メニュー画面
    ├── 貸出・返却
    │   ├── 書籍貸出画面
    │   ├── 書籍返却画面
    │   ├── 貸出書籍検索画面
    │   └── 利用者別返却画面
    ├── 登録・管理
    │   ├── 書籍登録画面
    │   ├── 利用者登録画面
    │   ├── カード発行画面
    │   ├── 書籍編集画面
    │   └── 利用者編集画面
    ├── レポート
    │   ├── 在庫管理画面
    │   ├── 貸出履歴画面
    │   ├── 延滞リスト画面
    │   └── 統計画面
    └── システム
        └── 設定画面
```

### 7.3 UI設計方針

#### 7.3.1 レスポンシブデザイン戦略
- **ブレークポイント設定**:
  - モバイル: 〜767px（スマートフォン全般）
  - タブレット: 768px〜1023px（iPad等）
  - デスクトップ: 1024px〜（PC、大画面タブレット）

#### 7.3.2 デバイス別UI最適化

**モバイル（スマートフォン）**:
- **タッチターゲット**: 最小44px×44px（iOS/Android推奨サイズ）
- **フォントサイズ**: 
  - 本文: 16px（標準）
  - 見出し: 20px〜24px
  - ボタン: 16px〜18px
- **レイアウト**: 単一カラム、縦スクロール
- **入力フィールド**: 画面幅の90%、高さ44px以上
- **ボタン配置**: 画面下部に固定（サムゾーン考慮）

**タブレット**:
- **タッチターゲット**: 最小44px×44px
- **フォントサイズ**:
  - 本文: 16px〜18px
  - 見出し: 24px〜28px
  - ボタン: 18px
- **レイアウト**: 2カラム対応、サイドバー表示
- **入力フィールド**: 適切な幅（最大600px）

**デスクトップ（PC）**:
- **クリックターゲット**: 最小32px×32px
- **フォントサイズ**:
  - 本文: 14px〜16px
  - 見出し: 20px〜32px
  - ボタン: 14px〜16px
- **レイアウト**: マルチカラム、サイドナビゲーション
- **入力フィールド**: 適切な幅（300px〜500px）
- **ホバー効果**: マウス操作用のビジュアルフィードバック

#### 7.3.3 共通UI原則
- **アダプティブデザイン**: デバイスに応じて最適なUIを提供
- **フレキシブルグリッド**: 12カラムグリッドシステム
- **相対単位使用**: rem, em, %を活用
- **タッチ・クリック両対応**: イベントリスナーの適切な実装
- **高解像度対応**: Retinaディスプレイ考慮（2x, 3x画像）

#### 7.3.4 アクセシビリティ
- **コントラスト比**: WCAG AA準拠（4.5:1以上）
- **フォーカス表示**: キーボード操作時の明確な表示
- **読み上げ対応**: 適切なARIA属性の実装
- **エラーメッセージ**: 分かりやすい日本語表記
- **ローディング表示**: 処理中の適切なフィードバック

#### 7.3.5 パフォーマンス最適化
- **レイジーローディング**: 画像の遅延読み込み
- **CSS最適化**: メディアクエリによる条件付き読み込み
- **タッチ最適化**: passive touchイベントリスナー
- **ビューポート設定**: 適切なmeta viewportタグ

## 8. 外部インターフェース

### 8.1 外部API
- **Google Books API**: ISBN検索による書籍情報取得（オプション）
- **国立国会図書館API**: ISBN検索による書籍情報取得

### 8.2 メール送信
- **Gmail API**: 以下の通知メール送信
  - 利用者登録確認
  - 延滞通知
  - システム通知

### 8.3 バーコードスキャン
- **QuaggaJS**: カメラを使用したバーコード読み取り
  - 対応フォーマット: Code128, EAN-13

## 9. 運用要件

### 9.1 運用体制
- **システム管理者**: 1名（設定変更、バックアップ実行）
- **図書館スタッフ**: 3～5名（日常業務での利用）

### 9.2 運用スケジュール
- **日次業務**: 
  - 貸出・返却処理（1日約50件）
  - 新規利用者登録（1日0～5件程度）
- **週次**: 
  - 延滞チェック（毎週月曜日）
  - 延滞通知メール送信
- **月次**: 
  - 統計レポート作成（貸出数、人気書籍など）
  - データ整合性チェック
- **年次**: 
  - 古いデータのアーカイブ（2年以上前の返却済みデータ）
  - 完全バックアップ

### 9.3 障害対応
- **レベル1（軽微）**: 画面表示の不具合 → 24時間以内対応
- **レベル2（中度）**: 一部機能の停止 → 4時間以内対応
- **レベル3（重大）**: システム全体の停止 → 1時間以内対応

### 9.4 教育・研修
- **初期導入研修**: 4時間（全機能の説明と実習）
- **定期研修**: 年2回（新機能、運用改善）
- **マニュアル**: オンラインマニュアルの提供

## 10. 制約事項

### 10.1 技術的制約
- **開発環境の制約**:
  - Google Apps Script（GAS）以外の開発環境は使用不可
  - データベースはGoogleスプレッドシートのみ使用可
  - 外部データベース（MySQL、PostgreSQL等）は使用不可
- **GASの制限**:
  - 実行時間制限（6分/実行）
  - API呼び出し回数の制限
  - スクリプトサイズの制限
- **スプレッドシートの制限**:
  - セル数制限（500万セル）
  - 同時編集者数の制限（100人）
  - シート数の制限（200シート）

### 10.2 運用上の制約
- インターネット接続必須
- Googleアカウント必須（管理者）
- JavaScriptが有効なブラウザ必須

### 10.3 法的制約
- 個人情報保護法の遵守
- 図書館法に基づく運用
- 著作権法の遵守

## 11. 今後の拡張性

### 11.1 機能拡張の可能性
- 予約機能の追加
- 電子書籍への対応
- 多言語対応（英語、中国語）
- スマートフォンアプリの開発
- AIを活用した書籍推薦機能

### 11.2 連携の可能性
- 他の図書館システムとの相互貸借
- 出版社・書店システムとの連携
- 地域の教育機関との連携

## 12. 付録

### 12.1 用語集
| 用語 | 説明 |
|------|------|
| 書籍ID | システムで自動採番される書籍の一意識別子 |
| 利用者ID | システムで自動採番される利用者の一意識別子 |
| ISBN | 国際標準図書番号 |
| 延滞 | 返却予定日を過ぎても返却されていない状態 |
| 論理削除 | データを物理的に削除せず、削除フラグで管理 |

### 12.2 参考資料
- Google Apps Script公式ドキュメント
- Google Workspace管理者ガイド
- 図書館法
- 個人情報保護法

### 12.3 改訂履歴
| 版数 | 日付 | 改訂内容 | 作成者 |
|------|------|----------|--------|
| 1.0 | 2025-06-22 | 初版作成 | システム管理者 |

---

以上