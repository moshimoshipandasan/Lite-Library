# デザイン要件定義書（Design Requirements Document, DRD）

## 1. はじめに

### 1.1 文書の目的
本文書は、Lite Library System v6のビジュアルデザインに関する要件を定義し、図書館らしい落ち着いた雰囲気と使いやすさを両立させるデザインガイドラインを提供することを目的とする。

### 1.2 デザインコンセプト
「**知の空間をデジタルで再現する**」
- 伝統的な図書館の落ち着いた雰囲気
- 本に親しみを感じる温かみのあるデザイン
- 誰もが使いやすいユニバーサルデザイン

### 1.3 対象ユーザー
- 図書館スタッフ（20代〜60代）
- 図書館利用者（子供から高齢者まで）
- 視覚的配慮が必要な利用者

## 2. ビジュアルアイデンティティ

### 2.1 カラーパレット

#### プライマリカラー
```css
/* 深い緑（知識と成長の象徴） */
--primary-color: #2C5530;
--primary-light: #3E7043;
--primary-dark: #1A3A1D;

/* アクセントカラー（温かみのある茶色） */
--accent-color: #8B6F47;
--accent-light: #A58863;
--accent-dark: #6B5537;
```

#### セカンダリカラー
```css
/* 背景色（紙の質感を表現） */
--bg-paper: #FBF8F3;
--bg-paper-dark: #F5F0E8;

/* グレースケール */
--gray-900: #1A1A1A;  /* 本文 */
--gray-700: #4A4A4A;  /* サブテキスト */
--gray-500: #7A7A7A;  /* プレースホルダー */
--gray-300: #D4D4D4;  /* ボーダー */
--gray-100: #F4F4F4;  /* 背景 */
```

#### 機能別カラー
```css
/* ステータスカラー */
--success-color: #4A7C59;    /* 利用可能 */
--warning-color: #D4A574;    /* 貸出中 */
--error-color: #C65D5D;      /* 延滞 */
--info-color: #5B7C99;       /* 情報 */
```

### 2.2 タイポグラフィ

#### フォントファミリー
```css
/* 見出し用フォント */
--font-heading: 'Noto Serif JP', serif;

/* 本文用フォント */
--font-body: 'Noto Sans JP', sans-serif;

/* 数字・コード用フォント */
--font-mono: 'Noto Sans Mono', monospace;
```

#### フォントサイズ（デスクトップ）
```css
--text-xs: 12px;    /* 補足情報 */
--text-sm: 14px;    /* 通常テキスト */
--text-base: 16px;  /* 本文 */
--text-lg: 18px;    /* サブ見出し */
--text-xl: 24px;    /* 見出し */
--text-2xl: 32px;   /* 大見出し */
--text-3xl: 40px;   /* ページタイトル */
```

#### 行間・文字間
```css
/* 行間 */
--line-height-tight: 1.25;
--line-height-normal: 1.5;
--line-height-relaxed: 1.75;

/* 文字間 */
--letter-spacing-tight: -0.025em;
--letter-spacing-normal: 0;
--letter-spacing-wide: 0.025em;
```

## 3. コンポーネントデザイン

### 3.1 ボタン

#### プライマリボタン
```css
.btn-primary {
  background-color: var(--primary-color);
  color: white;
  padding: 12px 24px;
  border-radius: 6px;
  font-weight: 500;
  font-size: var(--text-base);
  border: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.btn-primary:hover {
  background-color: var(--primary-dark);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
  transform: translateY(-1px);
}
```

#### セカンダリボタン
```css
.btn-secondary {
  background-color: white;
  color: var(--primary-color);
  padding: 12px 24px;
  border-radius: 6px;
  font-weight: 500;
  font-size: var(--text-base);
  border: 2px solid var(--primary-color);
  transition: all 0.3s ease;
}

.btn-secondary:hover {
  background-color: var(--primary-color);
  color: white;
}
```

### 3.2 入力フィールド

```css
.input-field {
  width: 100%;
  padding: 12px 16px;
  border: 2px solid var(--gray-300);
  border-radius: 6px;
  font-size: var(--text-base);
  background-color: white;
  transition: border-color 0.3s ease;
}

.input-field:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
}

/* ラベル */
.input-label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: var(--gray-700);
  font-size: var(--text-sm);
}
```

### 3.3 カード

```css
.card {
  background-color: white;
  border-radius: 8px;
  padding: 24px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--gray-100);
  transition: box-shadow 0.3s ease;
}

.card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 書籍カード */
.book-card {
  position: relative;
  padding-left: 60px;
}

.book-card::before {
  content: '📚';
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 32px;
}
```

### 3.4 テーブル

```css
.data-table {
  width: 100%;
  border-collapse: collapse;
  background-color: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.data-table thead {
  background-color: var(--primary-color);
  color: white;
}

.data-table th {
  padding: 16px;
  text-align: left;
  font-weight: 500;
  font-size: var(--text-sm);
  letter-spacing: var(--letter-spacing-wide);
}

.data-table td {
  padding: 16px;
  border-bottom: 1px solid var(--gray-100);
  color: var(--gray-900);
}

.data-table tbody tr:hover {
  background-color: var(--bg-paper);
}
```

## 4. レイアウト

### 4.1 グリッドシステム
```css
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.grid {
  display: grid;
  gap: 24px;
}

/* レスポンシブグリッド */
.grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
```

### 4.2 ヘッダー
```css
.header {
  background-color: var(--primary-color);
  color: white;
  padding: 20px 0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.header-title {
  font-family: var(--font-heading);
  font-size: var(--text-2xl);
  font-weight: 300;
  letter-spacing: var(--letter-spacing-wide);
}

/* ロゴエリア */
.logo-area {
  display: flex;
  align-items: center;
  gap: 16px;
}

.logo-icon {
  width: 48px;
  height: 48px;
  background-color: white;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}
```

### 4.3 ナビゲーション
```css
.nav-menu {
  background-color: var(--accent-color);
  padding: 0;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

.nav-item {
  display: inline-block;
  padding: 16px 24px;
  color: white;
  text-decoration: none;
  font-weight: 500;
  transition: background-color 0.3s ease;
  position: relative;
}

.nav-item:hover {
  background-color: var(--accent-dark);
}

.nav-item.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
  background-color: white;
}
```

## 5. 図書館らしいデザイン要素

### 5.1 装飾要素
```css
/* 本棚風の背景パターン */
.bookshelf-pattern {
  background-image: 
    repeating-linear-gradient(
      90deg,
      var(--accent-light) 0px,
      var(--accent-light) 20px,
      var(--accent-dark) 20px,
      var(--accent-dark) 40px
    );
  opacity: 0.05;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
}

/* ページ装飾 */
.page-decoration {
  border-top: 3px double var(--accent-color);
  border-bottom: 3px double var(--accent-color);
  padding: 20px 0;
  margin: 20px 0;
}
```

### 5.2 アイコン
```css
/* 図書館関連のアイコン使用 */
.icon-book::before { content: '📖'; }
.icon-user::before { content: '👤'; }
.icon-search::before { content: '🔍'; }
.icon-barcode::before { content: '📊'; }
.icon-calendar::before { content: '📅'; }
.icon-check::before { content: '✓'; }
.icon-warning::before { content: '⚠️'; }
```

### 5.3 状態表示
```css
/* 書籍の状態バッジ */
.status-badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: var(--text-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

.status-available {
  background-color: var(--success-color);
  color: white;
}

.status-borrowed {
  background-color: var(--warning-color);
  color: white;
}

.status-overdue {
  background-color: var(--error-color);
  color: white;
}
```

## 6. レスポンシブデザイン

### 6.1 ブレークポイント
```css
/* モバイル: 〜767px */
@media (max-width: 767px) {
  :root {
    --text-base: 16px;
    --text-lg: 20px;
    --text-xl: 24px;
    --text-2xl: 28px;
    --text-3xl: 32px;
  }
  
  .container { padding: 0 16px; }
  .grid { gap: 16px; }
  .card { padding: 16px; }
  
  /* モバイル用ナビゲーション */
  .nav-menu { 
    display: flex;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* タブレット: 768px〜1023px */
@media (min-width: 768px) and (max-width: 1023px) {
  .container { max-width: 750px; }
  .grid-cols-3 { grid-template-columns: repeat(2, 1fr); }
  .grid-cols-4 { grid-template-columns: repeat(2, 1fr); }
}
```

## 7. アニメーション

### 7.1 トランジション
```css
/* 基本的なトランジション */
.transition-all {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ページ遷移 */
.fade-in {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

### 7.2 ローディング
```css
/* 本のページめくりアニメーション */
.book-loader {
  width: 60px;
  height: 60px;
  position: relative;
  margin: 0 auto;
}

.book-loader::before,
.book-loader::after {
  content: '';
  position: absolute;
  width: 30px;
  height: 50px;
  background-color: var(--primary-color);
  border-radius: 2px;
}

.book-loader::before {
  left: 0;
  transform-origin: right center;
  animation: flip-page 1.5s infinite;
}

.book-loader::after {
  right: 0;
}

@keyframes flip-page {
  0%, 100% { transform: rotateY(0deg); }
  50% { transform: rotateY(-180deg); }
}
```

## 8. アクセシビリティ

### 8.1 カラーコントラスト
- 通常テキスト: 最小4.5:1
- 大きいテキスト（18px以上）: 最小3:1
- インタラクティブ要素: 最小3:1

### 8.2 フォーカス表示
```css
/* キーボードフォーカス */
*:focus-visible {
  outline: 3px solid var(--primary-color);
  outline-offset: 2px;
}

/* スキップリンク */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background-color: var(--primary-color);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 0 0 6px 0;
}

.skip-link:focus {
  top: 0;
}
```

## 9. 実装ガイドライン

### 9.1 CSSの構成
```css
/* レイヤー構造 */
@layer base {
  /* リセットCSS、基本スタイル */
}

@layer components {
  /* コンポーネントスタイル */
}

@layer utilities {
  /* ユーティリティクラス */
}
```

### 9.2 命名規則
- BEM記法を基本とする
- コンポーネント: `.component-name`
- 要素: `.component-name__element`
- 修飾子: `.component-name--modifier`

### 9.3 パフォーマンス考慮
- CSSは最小限に圧縮
- 不要なアニメーションは避ける
- will-changeは慎重に使用

## 10. まとめ

本デザイン要件定義書は、図書館の伝統的な雰囲気とデジタルの利便性を融合させた、使いやすく親しみやすいシステムデザインを実現することを目的としています。実装時は、ユーザビリティとアクセシビリティを常に意識し、すべての利用者にとって快適な図書館体験を提供することを心がけてください。